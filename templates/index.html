<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Prueba de Vida</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>

    <header>
        <h1>Bienvenido a la Prueba de Vida</h1>
    </header>

    <div class="side-menu" id="sideMenu">
        <a href="javascript:void(0)" class="close-btn" onclick="toggleMenu()">&times;</a>
        <a href="#">Home</a>
        <a href="#">Servicios</a>
        <a href="#">Contacto</a>
    </div>

    <button class="open-menu-btn" onclick="toggleMenu()">☰ Menú</button>

    <div class="video-container">
        <h2>Video</h2>
        <img id="videoFrame" src="{{ url_for('static', filename='images/video_thumbnail.jpg') }}" alt="Video Thumbnail">
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>

    <script>
        function fetchGestures() {
            fetch('/capture_gestures')
                .then(response => response.json())
                .then(data => {
                    if (data.image) {
                        // Actualiza la imagen con el frame procesado
                        document.getElementById('videoFrame').src = 'data:image/jpeg;base64,' + data.image;
                    } else {
                        console.error('Error capturando los gestos:', data.error);
                    }
                })
                .catch(error => console.error('Error al capturar los gestos:', error));
        }

        // Llama a la función de captura cada 1000ms (1 segundo)
        setInterval(fetchGestures, 1000);
    </script>

</body>
</html>
